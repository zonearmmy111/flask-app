<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArmTyKH</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ABCDE12345"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FK83X9WFPE');
</script>

  <style>
    :root {
      --bg-light: #f0f2f5;
      --bg-dark: #1e1e2f;
      --text-light: #ffffff;
      --text-dark: #111;
      --primary: #ff9ff3;
      --primary-hover: #f368e0;
      --input-bg-dark: #2c2c2c;
      --input-border-dark: #444;
      --result-bg-dark: #2a2a3a;
      --result-border-dark: #444;
      --border-light: #666;
      --border-dark: #aaa;
    }
    body {
      font-family: 'Kanit', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f2f5;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 600px;
    }
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 2rem;
    }
    .digit-count {
      color: red;
      font-size: 1em;
      margin-left: 5px;
    }
    .column {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    label {
      color: #666;
      font-size: 1.1rem;
    }
    input[type="text"] {
      padding: 0.8rem;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    input[type="text"]:focus {
      outline: none;
      border-color: #ff4757;
    }
    button {
      background-color: #ff4757;
      color: white;
      border: none;
      padding: 1rem;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #ff6b81;
    }
    .result {
      margin-top: 1.5rem;
      padding: 1rem;
      background-color: #f8f9fa;
      border-radius: 8px;
      white-space: pre-wrap;
      font-size: 1rem;
      line-height: 1.5;
    }
    .error {
      color: #ff4757;
      margin-top: 0.5rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
<button id="toggle-btn" onclick="toggleDarkMode()">โหมดกลางคืน</button>

<div class="container">
  <h1>วินเลข<span id="digitCount" class="digit-count"></span></h1>
  
  <div class="column">
    <div class="input-group">
      <label for="win_input">กรอกตัวเลข (1-9):</label>
      <input type="text" id="win_input" placeholder="เช่น: 123456" maxlength="9">
    </div>
    <button onclick="generateCombinations()">สร้างชุดตัวเลข</button>
    <div id="result" class="result"></div>
  </div>
</div>

<script>
// Dark mode toggle
function toggleDarkMode() {
  document.body.classList.toggle('dark-mode');
  updateToggleButton();
  localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
}

function updateToggleButton() {
  const btn = document.getElementById('toggle-btn');
  btn.textContent = document.body.classList.contains('dark-mode') ? 'โหมดกลางวัน' : 'โหมดกลางคืน';
}

// Load dark mode preference
document.addEventListener('DOMContentLoaded', () => {
  const isDark = localStorage.getItem('darkMode') === 'true';
  if (isDark) {
    document.body.classList.add('dark-mode');
    updateToggleButton();
  }
});

// Copy to clipboard function
function copyToClipboard(elementId, button) {
  const element = document.getElementById(elementId);
  const text = element.textContent;
  
  navigator.clipboard.writeText(text).then(() => {
    const originalText = button.textContent;
    button.textContent = 'คัดลอกแล้ว!';
    setTimeout(() => {
      button.textContent = originalText;
    }, 2000);
  });
}

function updateDigitCount() {
  const digits = document.getElementById('win_input').value;
  // เอาเฉพาะตัวเลขและนับเฉพาะตัวที่ไม่ซ้ำกัน
  const uniqueDigits = [...new Set(digits.match(/[1-9]/g) || [])];
  const count = uniqueDigits.length;
  const digitCountElement = document.getElementById('digitCount');
  if (count > 0) {
    digitCountElement.textContent = ` ${count} ตัว`;
  } else {
    digitCountElement.textContent = '';
  }
}

document.getElementById('win_input').addEventListener('input', updateDigitCount);

function generateCombinations() {
  const digits = document.getElementById('win_input').value;
  const resultDiv = document.getElementById('result');
  
  // ตรวจสอบว่ามีการกรอกตัวเลขหรือไม่
  if (!digits) {
    resultDiv.innerHTML = '<div class="error">กรุณากรอกตัวเลข</div>';
    return;
  }

  // ตรวจสอบว่าตัวเลขที่กรอกเป็นตัวเลข 1-9 เท่านั้น
  if (!/^[1-9]+$/.test(digits)) {
    resultDiv.innerHTML = '<div class="error">กรุณากรอกตัวเลข 1-9 เท่านั้น</div>';
    return;
  }

  // สร้างชุดตัวเลขตามเงื่อนไข
  let combinations = [];
  let digitArray = digits.split('');

  // เงื่อนไขที่ 1: ตัวเลขซ้ำกัน 3 ตัว
  for (let i = 0; i < digitArray.length; i++) {
    combinations.push(digitArray[i] + digitArray[i] + digitArray[i]);
  }

  // เงื่อนไขที่ 2: ตัวเลขไม่ซ้ำกัน 3 ตัว
  for (let i = 0; i < digitArray.length; i++) {
    for (let j = 0; j < digitArray.length; j++) {
      for (let k = 0; k < digitArray.length; k++) {
        if (i !== j && j !== k && i !== k) {
          combinations.push(digitArray[i] + digitArray[j] + digitArray[k]);
        }
      }
    }
  }

  // แสดงผลลัพธ์
  if (combinations.length > 0) {
    resultDiv.textContent = combinations.join('\n');
  } else {
    resultDiv.innerHTML = '<div class="error">ไม่พบชุดตัวเลขที่ตรงตามเงื่อนไข</div>';
  }
}
</script>
</body>
</html>